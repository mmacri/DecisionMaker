<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SCL OT CSIR Course Player</title>
  <link rel="stylesheet" href="css/theme.css">
  <link rel="stylesheet" href="css/design-tokens.css">
  <link rel="stylesheet" href="css/components.css">
  <link rel="stylesheet" href="css/player.css">
</head>
<body class="page player player-shell">
  <header class="player-header">
    <div class="bar">
      <div class="brand"><img src="assets/logo.svg" alt="SCL">SCL OT CSIR Training</div>
      <div class="header-actions">
        <button id="mapToggle" class="map-toggle" aria-expanded="false">☰ Course map</button>
        <div class="role-pill" id="rolePill">Loading role…</div>
        <button class="tertiary" id="helpBtn">Help / Tour</button>
        <button class="tertiary" id="exitTraining">Exit training</button>
      </div>
    </div>
  </header>

  <div class="player-layout">
    <aside class="course-map" aria-label="Course map">
      <h3>Course map</h3>
      <div class="map-list-wrap">
        <ol id="courseMap" class="map-list"></ol>
      </div>
      <div class="progress-row">
        <div id="overallProgress" class="meta">Overall progress</div>
        <div class="progress-bar slim"><div class="progress-fill" id="overallBar" style="width:0;"></div></div>
      </div>
    </aside>

    <main class="main-pane">
      <section class="location-banner">
        <div>
          <div class="meta-line" id="moduleBreadcrumb">Module and step</div>
          <h1 id="moduleTitle">Loading module…</h1>
          <div class="breadcrumb" id="breadcrumb">Module location</div>
        </div>
        <div class="module-progress">
          <div class="meta" id="moduleStep">Step</div>
          <div class="progress-bar slim"><div class="progress-fill" id="stepBar" style="width:0;"></div></div>
        </div>
      </section>

      <section class="panel-shell" id="stepContent" data-module-id="" data-step-index="0">
        <div class="step-meta">
          <div>
            <div class="pill">Single path forward</div>
            <h2 id="stepTitle" class="section-title" style="margin:6px 0;">Loading step…</h2>
          </div>
          <div class="pill" id="stepCountPill">Step</div>
        </div>
        <div class="overview-area" id="overviewContainer"></div>
        <div class="runtime-area" id="runtimeContainer">
          <p class="small">Training content runs inside the player. If loading takes more than a few seconds, refresh or reopen this module.</p>
          <iframe id="runtimeFrame" title="CSIR runtime"></iframe>
        </div>
      </section>
    </main>
  </div>

  <div class="drawer-scrim" id="drawerScrim"></div>
  <div class="stepper-bar">
    <button id="prevStep" class="secondary">Back</button>
    <div class="stepper-status">
      <span class="meta" id="stepIndicator">Step navigation</span>
      <div class="progress-bar stepper-progress slim"><div class="progress-fill" id="stepperBar" style="width:0;"></div></div>
    </div>
    <button id="nextStep" class="primary" aria-live="polite">Next</button>
  </div>

  <div class="toast" id="toast" role="status"></div>

  <script src="js/player-curriculum.js"></script>
  <script type="module" src="js/player-state.js"></script>
  <script type="module" src="js/player.js"></script>
</body>
</html>
